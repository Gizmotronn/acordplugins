!function(i){"use strict";i(document).ready(function(){if(jQuery().emojioneArea){if("on"==Yz_Emoji.posts_visibility)i(".yz-wall-textarea").emojioneArea({pickerPosition:"bottom",autocomplete:!0,events:{ready:function(){this.editor.textcomplete([{id:"yz_mentions",match:/\B@([\-\d\w]*)$/,search:function(t,e){var n=bp.mentions.users;e(i.map(n,function(e){return 0===e.ID.indexOf(t)||0===e.name.indexOf(t)?e:null}))},template:function(e){return'<img src="'+e.image+'" /><span class="username">@'+e.ID+"</span><small>"+e.name+"</small>"},replace:function(e){return"@"+e.ID+"&nbsp;"},cache:!0,index:1}])}}});if("on"==Yz_Emoji.comments_visibility){i.yz_init_comments_emoji=function(){return i(".youzer .ac-form textarea").emojioneArea({pickerPosition:"bottom",autocomplete:!0,events:{ready:function(){this.editor.textcomplete([{id:"yz_mentions",match:/\B@([\-\d\w]*)$/,search:function(t,e){var n=bp.mentions.users;e(i.map(n,function(e){return 0===e.ID.indexOf(t)||0===e.name.indexOf(t)?e:null}))},template:function(e){return'<img src="'+e.image+'" /><span class="username">@'+e.ID+"</span><small>"+e.name+"</small>"},replace:function(e){return"@"+e.ID+"&nbsp;"},cache:!0,index:1}])}}})};i.yz_init_comments_emoji();i("body").on("append",".activity-comments ul",function(e){"li"!=e.target.localName&&"ul"!=e.target.localName||i(this).parent().find(".ac-form textarea").get(0)&&i(this).parent().find(".ac-form textarea").get(0).emojioneArea.setText("")}),i(document).ajaxComplete(function(){i.yz_init_comments_emoji()})}if("on"==Yz_Emoji.messages_visibility){i("#send-reply textarea,.yzmsg-form-item #message_content").emojioneArea({pickerPosition:"bottom"});var t=this.originalVal=i.fn.val;i.fn.val=function(e){return void 0===e?t.call(this):("message_content"==i(this).attr("id")&&""==e&&i("#send-reply .emojionearea-editor").text(""),t.call(this,e))}}}})}(jQuery);