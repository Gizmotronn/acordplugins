!function(a){"use strict";a(document).ready(function(){function e(e){return!a.trim(e.html())}jQuery().niceSelect&&a('.youzer select:not([multiple="multiple"])').niceSelect(),jQuery().autosize&&autosize(a(".youzer textarea")),jQuery().niceSelect&&a(".logy select").not('[multiple="multiple"]').niceSelect(),a(".yzw-form-show-all").on("click",function(e){a(".yzw-form-show-all").fadeOut(function(){a(".yz-wall-opts-item").fadeIn(),a(this).remove()})}),a(".widget_bp_core_sitewide_messages").each(function(){e(a(this).find(".bp-site-wide-message"))&&a(this).remove()}),a(".youzer .group-members-list .action").each(function(){e(a(this))&&a(this).remove()}),a("#subnav ul").each(function(){e(a(this))&&a(this).parent().remove()}),e(a(".yz-group-manage-members-search"))&&a(".yz-group-manage-members-search").remove(),a("#close-notice").on("click",function(e){a(this).closest("#sitewide-notice").fadeOut()}),a(document).on("click",".yz-show-item-tools",function(e){a(this).toggleClass("yz-close-item-tools"),a(this).closest(".yz-item, .activity-item").find(".yz-item-tools").fadeToggle()}),a(document).on("click",".yz-suggested-groups-widget .yz-close-button",function(e){e.preventDefault();var t=a(this).closest(".yz-list-item");a(t).fadeOut(400,function(){a(this).remove()});var i=a(this).attr("href"),o=a.yz_get_var_in_url(i,"_wpnonce"),n=a.yz_get_var_in_url(i,"suggestion_id");return a.post(Youzer.ajax_url,{action:"yz_groups_refused_suggestion",suggestion_id:n,_wpnonce:o}),!1}),a(document).on("click",".yz-suggested-friends-widget .yz-close-button",function(e){e.preventDefault();var t=a(this).closest(".yz-list-item");a(t).fadeOut(400,function(){a(this).remove()});var i=a(this).attr("href"),o=a.yz_get_var_in_url(i,"_wpnonce"),n=a.yz_get_var_in_url(i,"suggestion_id");return a.post(Youzer.ajax_url,{action:"yz_friends_refused_suggestion",suggestion_id:n,_wpnonce:o}),!1}),a.yz_get_var_in_url=function(e,t){for(var i=e.split("?")[1].split("&"),o=0;o<i.length;o++){var n=i[o].split("=");if(n[0]==t)return n[1]}return""},a(".field-visibility-settings .radio input[type=radio]").change(function(){var e=a(this).parent().find(".field-visibility-text").text();a(this).closest(".field-visibility-settings").prev(".field-visibility-settings-toggle").find(".current-visibility-level").text(e)}),a("body").append('<div class="youzer-dialog"></div>'),a.yz_DialogMsg=function(e,t){var i,o,n;"error"==e?o='<div class="youzer-dialog-title">'+Youzer.ops+"</div>":"success"==e?o='<div class="youzer-dialog-title">'+Youzer.done+"</div>":"info"==e&&(o=""),"error"==e?n=Youzer.gotit:"success"==e?n=Youzer.thanks:"info"==e&&(n=Youzer.cancel),"error"==e?i='<i class="fas fa-exclamation-triangle"></i>':"info"==e?i='<i class="fas fa-info-circle"></i>':"success"==e&&(i='<i class="fas fa-check"></i>');var s='<div class="yz-'+e+'-dialog"><div class="youzer-dialog-container"><div class="yz-dialog-header">'+i+'</div><div class="youzer-dialog-msg"><div class="youzer-dialog-desc">'+o+'<div class="yz-dialog-msg-content">'+t+'</div></div></div><ul class="yz-dialog-buttons">'+("info"==e?'<li><a class="yz-confirm-dialog">'+Youzer.confirm+"</a></li>":"")+'<li><a class="yz-close-dialog">'+n+"</a></li></ul></div></div>";a(".youzer-dialog").empty().append(s),a(".youzer-dialog").addClass("yz-is-visible")},a(".youzer-dialog").on("click",function(e){(a(e.target).is(".yz-close-dialog")||a(e.target).is(".youzer-dialog"))&&(e.preventDefault(),a(this).removeClass("yz-is-visible"))}),a(".youzer-modal").on("click",function(e){(a(e.target).is(".yz-close-dialog")||a(e.target).is(".youzer-modal"))&&(e.preventDefault(),a(this).removeClass("yz-is-visible"))}),a("body").on("click",".yz-close-dialog",function(e){e.preventDefault(),a(".youzer-dialog,.youzer-modal").removeClass("yz-is-visible")}),a(".yz-popup-login .logy-form-header").append('<i class="fas fa-times yz-close-login"></i>'),a('a[data-show-youzer-login="true"]').on("click",function(e){"off"!=Youzer.login_popup&&(e.preventDefault(),a(".yz-popup-login").addClass("yz-is-visible"))}),a(".yz-popup-login").on("click",function(e){(a(e.target).is(".yz-close-login")||a(e.target).is(".yz-popup-login"))&&(e.preventDefault(),a(this).removeClass("yz-is-visible"))}),a(".yz-close-login").on("click",function(e){e.preventDefault(),a(".yz-popup-login").removeClass("yz-is-visible")}),a(".yz-primary-nav-settings").click(function(e){e.preventDefault();var t=a(this).closest(".yz-primary-nav-area");t.toggleClass("open-settings-menu"),t.find(".yz-settings-menu").fadeToggle(400)}),a(".logy-login-form").on("submit",function(e){if("off"!=Youzer.ajax_enabled){a(this).addClass("yz-authenticating");var t,i,o,n=a(this);o=a(this).find('button[type="submit"]'),t=o.find(".logy-button-title").text(),i=o.find(".logy-button-icon i").attr("class"),o.find(".logy-button-title").text(Youzer.authenticating),o.find(".logy-button-icon i").attr("class","fas fa-spinner fa-spin");var s={action:"yz_ajax_login",username:a(this).find('input[name="log"]').val(),password:a(this).find('input[name="pwd"]').val(),remember:a(this).find('input[name="rememberme"]').val(),security:a(this).find('input[name="yz_ajax_login_nonce"]').val()};a.ajax({type:"POST",dataType:"json",url:ajaxurl,data:s,success:function(e){1==e.loggedin?(o.find(".logy-button-title").text(e.message),o.find(".logy-button-icon i").attr("class","fas fa-check"),document.location.href=e.redirect_url):(n.removeClass("yz-authenticating"),e.error_code&&"incorrect_password"==e.error_code?n.find('input[name="pwd"]').val(""):n.find('input[name="log"],input[name="pwd"]').val(""),o.find(".logy-button-title").text(t),o.find(".logy-button-icon i").attr("class",i),a.yz_DialogMsg("error",e.message))}}),e.preventDefault()}}),a(".yz-responsive-menu").click(function(e){e.preventDefault(),a(".yz-settings-area").hasClass("open-settings-menu")&&(a(".yz-settings-area").toggleClass("open-settings-menu"),a(".yz-settings-area .yz-settings-menu").fadeOut()),a(this).toggleClass("is-active"),a(".yz-profile-navmenu").fadeToggle(600)}),a(document).on("click",".yz-wall-modal-close",function(e){e.preventDefault(),a(".yz-wall-modal").removeClass("yz-wall-modal-show"),a(".yz-wall-modal-overlay").fadeOut(600),setTimeout(function(){a(".yz-wall-modal").remove()},500)}),a.yz_isJSON=function(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}},a(document).on("click",".yz-addtocart-ajax",function(e){e.preventDefault();var t=a(this),i=t.find(".yz-btn-icon i").attr("class"),o=t.closest("form.cart").find("input[name=variation_id]").val()||0,n={action:"woocommerce_ajax_add_to_cart",product_id:t.data("yz-product-id"),product_sku:"",quantity:1,variation_id:o};return a(document.body).trigger("adding_to_cart",[t,n]),a.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:n,beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading"),t.find(".yz-btn-icon i").attr("class","fas fa-check"),setTimeout(function(){t.find(".yz-btn-icon i").attr("class",i).hide().fadeIn()},1e3)},success:function(e){e.error&e.product_url?window.location=e.product_url:a(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash])}}),!1}),a(document).on("click",".yz-modal-close, .yz-modal-close-icon",function(e){e.preventDefault(),a(".yz-modal-overlay").fadeOut(500);a(this).closest(".yz-modal").fadeOut(300,function(){a(this).remove()})}),a(document).keyup(function(e){a(".yz-modal-show")[0]&&27===e.keyCode&&a(".yz-modal-close").trigger("click")}),a(document).mouseup(function(e){a(".yz-modal-overlay").is(e.target)&&a(".yz-modal-show")[0]&&a(".yz-modal-close").trigger("click")})})}(jQuery);