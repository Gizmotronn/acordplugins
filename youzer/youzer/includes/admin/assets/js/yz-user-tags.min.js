!function(e){"use strict";e(document).ready(function(){e(document).on("click","#yz-add-user-tag",function(t){t.preventDefault();var a=e(".yz-user-tag-name span"),n=e("#yz-user-tags-form"),s="yz_user_tags[yz_user_tag_"+yz_nextUTag+"]",r=e.yz_getAddData(n,"yz_user_tag"),i={type:"text",value:r.name,tag_name:r.name,form:n,selector:a};if(!e.validate_user_tags_data(i))return!1;e("#yz_user_tags").prepend('<li class="yz-user-tag-item" data-user-tag-name="yz_user_tag_'+yz_nextUTag+'"><h2 class="yz-user-tag-name"><i class="fa yz-user-tag-icon fa-'+r.icon+'" aria-hidden="true"></i><span>'+r.name+'</span></h2><input type="hidden" name="'+s+'[icon]" value="'+r.icon+'" ><input type="hidden" name="'+s+'[name]" value="'+r.name+'" ><input type="hidden" name="'+s+'[field]" value="'+r.field+'" ><input type="hidden" name="'+s+'[description]" value="'+r.description+'" ><a class="yz-edit-item yz-edit-user-tag"></a><a class="yz-delete-item yz-delete-user-tag"></a></li>'),e.yz_HideModal(n),yz_nextUTag++}),e(document).on("click",".yz-edit-user-tag",function(t){var a=e(this).closest(".yz-user-tag-item"),n=e("#yz-user-tags-form");e.yz_EditForm({button_id:"yz-update-user-tag",form_title:yz.update_user_tag,form:n,item:a})}),e(document).on("click","#yz-update-user-tag",function(t){t.preventDefault();var a=".yz-user-tag-name span",n=e("#yz-user-tags-form"),s=e.yz_getItemObject(n),r=e.yz_getNewData(n,"keyToVal"),i={old_name:s.find(a).text(),value:r.name,form:n,selector:e(a),type:"text",tag_icon:r.icon,tag_name:r.name,tag_field:r.field,tag_description:r.description};if(!e.validate_user_tags_data(i))return!1;e.yz_updateFieldsData(n)}),e.validate_user_tags_data=function(t){var a=e.extend({},t);if(null==a.tag_name||""==e.trim(a.tag_name))return e.ShowPanelMessage({msg:yz.utag_name_empty,type:"error"}),!1;return!e.yz_isAlreadyExist({old_title:a.old_name,selector:a.selector,value:a.value,type:"text"})||(e.ShowPanelMessage({msg:yz.name_exist,type:"error"}),!1)}})}(jQuery);